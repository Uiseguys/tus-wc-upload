/*! Built with http://stenciljs.com */
App.loadBundle("/**:bundle-id:**/",["exports"],function(e){var t=window.App.h,r=function(){function e(){}return e.prototype.render=function(){return t("div",null,t("header",null,t("h1",null,"File Upload Library with Stencil Js")),t("main",{class:"row"},t("div",{class:"column"},t("cwc-file-chooser",{allowDrop:"true",allowClick:"true",allowMultiple:"true",serverAddress:"https://master.tus.io/files/"})),t("div",{class:"column"},t("cwc-upload-item",null)),t("div",{class:"UppyInput-Progress"})))},Object.defineProperty(e,"is",{get:function(){return"app-root"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:app-root:**/"},enumerable:!0,configurable:!0}),e}(),o=function(){function e(){this.allowDrop="true",this.allowClick="true",this.allowMultiple="true",this.accept=null,this.serverAddress="",this.file=[],this.error=[],this.currentFiles=[]}return e.prototype.componentDidLoad=function(){this.uppy="true"==this.allowMultiple?Uppy.Core({debug:!0,autoProceed:!0,restrictions:{maxNumberOfFiles:null,allowedFileTypes:this.accept}}):Uppy.Core({debug:!0,autoProceed:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:this.accept}}),this.initDragDropArea(),this.addedFiles(),this.uploadFiles(),this.progressBarHandler(),this.errorHandler(),this.uploadSuccess()},e.prototype.initDragDropArea=function(){if("true"==this.allowDrop&&"true"==this.allowClick){var e="true"==this.allowMultiple?"Please drop files here or ":"Please drop file or ";this.uppy.use(Uppy.DragDrop,{target:"#drag-drop-area",width:"100%",height:"100%",note:null,locale:{strings:{dropHereOr:e+"%{browse}",browse:"select"}}})}else if("true"==this.allowDrop&&"false"==this.allowClick){e="true"==this.allowMultiple?"Please drop files":"Please drop file",this.uppy.use(Uppy.DragDrop,{target:"#drag-drop-area",width:"100%",height:"100%",note:null,locale:{strings:{dropHereOr:""}}});var t=document.createElement("h6"),r=document.createTextNode(e);t.classList.add("water-mark"),t.appendChild(r),document.getElementById("drag-drop-area").appendChild(t)}else"false"==this.allowDrop&&"true"==this.allowClick?this.error=this.error.concat(["Under Development"]):(e="Please allow drop or allow Click",this.uppy.use(Uppy.DragDrop,{target:"#drag-drop-area",width:"100%",height:"100%",note:null,locale:{strings:{dropHereOr:e}}}),document.getElementById("drag-drop-area").style.pointerEvents="none")},e.prototype.addedFiles=function(){var e=this;this.uppy.on("file-added",function(t){t.pause=!1,e.currentFiles=e.currentFiles.concat([t]),e.trackProgress()})},e.prototype.uploadFiles=function(){this.uppy.use(Uppy.Tus,{endpoint:this.serverAddress,resume:!0,autoRetry:!0,retryDelays:[0,1e3,3e3,5e3]})},e.prototype.uploadSuccess=function(){var e=this;this.uppy.on("upload-success",function(t,r){var o=e.currentFiles.findIndex(function(e){return e.id==t.id});if(o>-1&&e.currentFiles.splice(o,1),"image/png"==r.file.type||"image/jpg"==r.file.type||"image/jpeg"==r.file.type||"image/svg"==r.file.type){var i=document.createElement("img");i.src=r.url,document.getElementById("image-list").appendChild(i)}})},e.prototype.progressBarHandler=function(){var e=Uppy.StatusBar;this.uppy.use(e,{target:".UppyInput-Progress",fixed:!0,hideAfterFinish:!1,hideUploadButton:!0})},e.prototype.errorHandler=function(){var e,t=this;this.uppy.on("info-visible",function(){var r=t.uppy.getState().info;clearInterval(e),t.error=t.error.concat([r.message])}),this.uppy.on("upload-error",function(r){clearInterval(e),t.error=t.error.concat([r])}),e=setInterval(function(){t.error=[]},3e3)},e.prototype.playPauseDownloading=function(e,t){this.currentFiles[t].pause=!this.currentFiles[t].pause,this.uppy.pauseResume(e.id)},e.prototype.trackProgress=function(){var e=this;this.uppy.on("upload-progress",function(t,r){var o=e.currentFiles.findIndex(function(e){return e.id==t.id});o>-1&&(e.currentFiles[o].progress.percentage=100*r.bytesUploaded/r.bytesTotal,e.currentFiles[o].progress.bytesUploaded=r.bytesUploaded)})},e.prototype.render=function(){var e=this;return[t("div",{class:"cwc-file-chooser"},t("div",{id:"drag-drop-area"}),this.currentFiles.map(function(r,o){return t("div",{class:"progress-list"},t("div",{class:"file-name"},r.name),t("div",{class:"progress-footer"},t("button",{class:"play-pause-btn",onClick:function(){return e.playPauseDownloading(r,o)},innerHTML:1==r.pause?"<img src='https://png.icons8.com/metro/1600/play.png' >":"<img src='https://cdn3.iconfinder.com/data/icons/multimedia/100/pause-512.png'/>"}),t("span",null,1==r.pause?"Paused":"Uploading"," : ",Math.round(r.progress.percentage),"%")))}),t("ul",null,this.error.map(function(e){return t("li",null,e)})))]},Object.defineProperty(e,"is",{get:function(){return"cwc-file-chooser"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{accept:{type:"Any",attr:"accept"},allowClick:{type:"Any",attr:"allow-click"},allowDrop:{type:"Any",attr:"allow-drop"},allowMultiple:{type:"Any",attr:"allow-multiple"},currentFiles:{state:!0},error:{state:!0},file:{state:!0},serverAddress:{type:"Any",attr:"server-address"},uppy:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:cwc-file-chooser:**/"},enumerable:!0,configurable:!0}),e}(),i=function(){function e(){this.files=[],this.uppy=Uppy.Core({debug:!0,autoProceed:!0})}return e.prototype.componentDidLoad=function(){var e=Uppy.FileInput;this.uppy.use(e,{target:".UppyForm",pretty:!0,inputName:"files[]",locale:{strings:{chooseFiles:"Choose Files"}}}),this.uppy.on("file-added",function(e){console.log("Added file",e)}),this.uppy.use(Uppy.Tus,{endpoint:"https://master.tus.io/files/"});var t=Uppy.StatusBar;this.uppy.use(t,{target:".UppyInput-Progress",fixed:!0,hideAfterFinish:!1,hideUploadButton:!0}),this.uppy.on("upload-success",function(e,t){console.log(e.name,t);var r=new Image;r.width=300,r.alt="",r.src=t,document.body.appendChild(r)})},e.prototype.render=function(){return t("div",{class:"cwc-upload-item"},t("h2",null,"Using the Input Tag "),t("div",{class:"UppyForm"}))},Object.defineProperty(e,"is",{get:function(){return"cwc-upload-item"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{files:{type:"Any",attr:"files"},uppy:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:cwc-upload-item:**/"},enumerable:!0,configurable:!0}),e}();e.AppRoot=r,e.CwcFileChooser=o,e.CwcUploadItem=i,Object.defineProperty(e,"__esModule",{value:!0})});