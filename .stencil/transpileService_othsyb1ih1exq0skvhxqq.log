{"moduleFile":{"sourceFilePath":"/home/users/ajayveer/Music/stencil/my-app/src/components/file-chooser/file-chooser.tsx","localImports":[],"externalImports":["@stencil/core","tus-js-client"],"potentialCmpRefs":[],"cmpMeta":{"tagNameMeta":"cwc-file-chooser","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/home/users/ajayveer/Music/stencil/my-app/src/components/file-chooser/file-chooser.css","cmpRelativePath":"file-chooser.css","originalComponentPath":"file-chooser.css"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"AppHome","documentation":"","type":"typeof AppHome"},"encapsulationMeta":0,"componentClass":"AppHome","membersMeta":{"file":{"memberType":16},"uppy":{"memberType":16},"error":{"memberType":16},"currentFiles":{"memberType":16},"upload":{"memberType":16},"isUppy":{"memberType":16},"allowDrop":{"memberType":1,"attribName":"allow-drop","attribType":{"text":"String","optional":false,"typeReferences":{"String":{"referenceLocation":"global"}}},"reflectToAttrib":false,"propType":0,"jsdoc":{"name":"allowDrop","documentation":"","type":"String"}},"allowClick":{"memberType":1,"attribName":"allow-click","attribType":{"text":"String","optional":false,"typeReferences":{"String":{"referenceLocation":"global"}}},"reflectToAttrib":false,"propType":0,"jsdoc":{"name":"allowClick","documentation":"","type":"String"}},"allowMultiple":{"memberType":1,"attribName":"allow-multiple","attribType":{"text":"String","optional":false,"typeReferences":{"String":{"referenceLocation":"global"}}},"reflectToAttrib":false,"propType":0,"jsdoc":{"name":"allowMultiple","documentation":"","type":"String"}},"accept":{"memberType":1,"attribName":"accept","attribType":{"text":"String[]","optional":false,"typeReferences":{"String":{"referenceLocation":"global"}}},"reflectToAttrib":false,"propType":0,"jsdoc":{"name":"accept","documentation":"","type":"String[]"}}},"eventsMeta":[{"eventMethodName":"filesChosen","eventName":"filesChosen","eventBubbles":true,"eventCancelable":true,"eventComposed":true,"jsdoc":{"name":"filesChosen","documentation":"","type":"EventEmitter<any>"}}],"listenersMeta":[]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/home/users/ajayveer/Music/stencil/my-app/src/components/file-chooser/file-chooser.js"},"jsText":"export class AppHome {\r\n    constructor() {\r\n        this.allowDrop = \"true\";\r\n        this.allowClick = \"true\";\r\n        this.allowMultiple = \"true\";\r\n        this.accept = [];\r\n        this.file = [];\r\n        this.error = [];\r\n        this.currentFiles = [];\r\n        this.upload = [];\r\n        this.isUppy = true;\r\n    }\r\n    componentDidLoad() {\r\n        if (this.allowMultiple == \"true\") {\r\n        }\r\n        else {\r\n        }\r\n        if (this.allowClick == \"true\" && this.allowDrop == \"false\") {\r\n            this.isUppy = false;\r\n        }\r\n        else {\r\n            this.isUppy = true;\r\n        }\r\n        this.initDragDropArea();\r\n        this.addedFiles();\r\n    }\r\n    initDragDropArea() {\r\n        if (this.allowDrop == \"true\" && this.allowClick == \"true\") {\r\n            let stringsText = this.allowMultiple == \"true\" ? \"Please drop files here or \" : \"Please drop file or \";\r\n            // Generate the Drop Box\r\n            this.uppy.use(Uppy.DragDrop, {\r\n                target: '#drag-drop-area',\r\n                width: '100%',\r\n                height: '100%',\r\n                note: null,\r\n                locale: {\r\n                    strings: {\r\n                        dropHereOr: stringsText + '%{browse}',\r\n                        browse: 'select'\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else if (this.allowDrop == \"true\" && this.allowClick == \"false\") {\r\n            let stringsText = this.allowMultiple == \"true\" ? \"Please drop files\" : \"Please drop file\";\r\n            // Generate the Drop Box\r\n            this.uppy.use(Uppy.DragDrop, {\r\n                target: '#drag-drop-area',\r\n                width: '100%',\r\n                height: '100%',\r\n                note: null,\r\n                locale: {\r\n                    strings: {\r\n                        dropHereOr: '',\r\n                    }\r\n                }\r\n            });\r\n            // Add the Watermark\r\n            var node = document.createElement(\"h6\");\r\n            var textnode = document.createTextNode(stringsText);\r\n            node.classList.add(\"water-mark\");\r\n            node.appendChild(textnode);\r\n            document.getElementById(\"drag-drop-area\").appendChild(node);\r\n        }\r\n        else if (this.allowDrop == \"false\" && this.allowClick == \"true\") {\r\n            // let stringsText = this.allowMultiple == \"true\" ? \"Please drop files here or \" : \"Please drop file or \"\r\n        }\r\n        else {\r\n            let stringsText = \"Please allow drop or allow Click\";\r\n            // Generate the Drop Box\r\n            this.uppy.use(Uppy.DragDrop, {\r\n                target: '#drag-drop-area',\r\n                width: '100%',\r\n                height: '100%',\r\n                note: null,\r\n                locale: {\r\n                    strings: {\r\n                        dropHereOr: stringsText,\r\n                    }\r\n                }\r\n            });\r\n            // Disable the drop and click\r\n            document.getElementById(\"drag-drop-area\").style.pointerEvents = \"none\";\r\n        }\r\n    }\r\n    handleChange(e) {\r\n        this.currentFiles = [];\r\n        // for (let i = 0; i < e.target.files.length; i++) {\r\n        //   var file = e.target.files[i]\r\n        //   file['pause'] = false;\r\n        //   file['uploaded'] = false;\r\n        //   file['progress'] = { bytesUploaded: 0, bytesTotal: file.size, percentage: \"0%\" };\r\n        //   file['nonUppy'] = true;\r\n        //   file['id'] = file.name;\r\n        //   this.currentFiles = [...this.currentFiles, file];\r\n        // }\r\n        this.filesChosen.emit(e.target.files);\r\n    }\r\n    addedFiles() {\r\n        this.uppy.on('file-added', (file) => {\r\n            file['pause'] = false;\r\n            file['uploaded'] = false;\r\n            this.currentFiles = [...this.currentFiles, file];\r\n        });\r\n    }\r\n    drop(e) {\r\n        console.log(e);\r\n        console.log(e.dataTransfer.files);\r\n        e.preventDefault();\r\n        // var data = e.dataTransfer.getData(\"text\");\r\n        // e.target.appendChild(document.getElementById(data));\r\n    }\r\n    allowDropFile(ev) {\r\n        ev.preventDefault();\r\n    }\r\n    render() {\r\n        var multiple = this.allowMultiple == \"true\" ? true : false;\r\n        var hidden = this.isUppy == true ? \"hidden\" : \"visible\";\r\n        return ([\r\n            h(\"div\", { class: \"cwc-file-chooser\" },\r\n                h(\"h4\", null, \"Chooser\"),\r\n                h(\"div\", { id: \"drag-drop-area\", onDrop: e => this.drop(e), onDragOver: e => this.allowDropFile(e) }),\r\n                h(\"div\", { style: { visibility: hidden } },\r\n                    h(\"input\", { type: \"file\", onChange: e => this.handleChange(e), accept: this.accept.toString(), multiple: multiple })))\r\n        ]);\r\n    }\r\n    static get is() { return \"cwc-file-chooser\"; }\r\n    static get properties() { return {\r\n        \"accept\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"accept\"\r\n        },\r\n        \"allowClick\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"allow-click\"\r\n        },\r\n        \"allowDrop\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"allow-drop\"\r\n        },\r\n        \"allowMultiple\": {\r\n            \"type\": \"Any\",\r\n            \"attr\": \"allow-multiple\"\r\n        },\r\n        \"currentFiles\": {\r\n            \"state\": true\r\n        },\r\n        \"error\": {\r\n            \"state\": true\r\n        },\r\n        \"file\": {\r\n            \"state\": true\r\n        },\r\n        \"isUppy\": {\r\n            \"state\": true\r\n        },\r\n        \"upload\": {\r\n            \"state\": true\r\n        },\r\n        \"uppy\": {\r\n            \"state\": true\r\n        }\r\n    }; }\r\n    static get events() { return [{\r\n            \"name\": \"filesChosen\",\r\n            \"method\": \"filesChosen\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true\r\n        }]; }\r\n    static get style() { return \"/**style-placeholder:cwc-file-chooser:**/\"; }\r\n}\r\n"}